/*************************************************************************************************** 
Asset:        Zero to Snowflake - Snowflake Copilot
Version:      v1     
Copyright(c): 2025 Snowflake Inc. All rights reserved.
****************************************************************************************************/

ALTER SESSION SET query_tag = '{"origin":"sf_sit-is","name":"tb_101_v2_copilot","version":{"major":1, "minor":1},"attributes":{"is_quickstart":0, "source":"tastybytes", "vignette": "snowflake_copilot"}}';

/*
    洗練されたクエリを構築し、より深いビジネスインサイトを得るためにSnowflake Copilotを
    活用することを意図したTasteBytesデータアナリストの役割を担うので、
    適切にコンテキストを設定しましょう。
*/

/* 1. Snowflake Copilotへのアクセスとコンテキストの設定
    ***************************************************************
    Snowflake Copilotの使用を開始するには、以下の手順に従ってください：
    ***************************************************************/

-- 開始前に、コンテキストを設定します
USE ROLE tb_analyst;
USE WAREHOUSE tb_analyst_wh;
USE DATABASE tb_101;
USE SCHEMA harmonized;

/* 2. Copilotでの要件変換
    ***************************************************************
    まず、Copilotの自然言語理解機能を使用して、Tasty Bytesデータセットについて
    どのような分析質問ができるかを探ってみましょう。Copilotメッセージボックスに
    以下の質問を入力し、実行をクリックしてクエリの結果を確認してください：
            
    プロンプト1：顧客レビューのセンチメントと顧客ロイヤリティ指標および注文行動を
    関連付けるクエリをどのように構造化すればよいですか？レビューセンチメントデータと
    注文情報を含む顧客ロイヤリティ指標テーブルがあります。顧客が言うことと実際の
    購入パターンとの関係を理解する必要があります。
    ***************************************************************/

/*
    主要なインサイト：
        Copilotは、スキーマを認識したビジネスインテリジェンスを提供し、特定のTasty Bytesテーブルを
        直接分析し、実際の列名を使用した戦略的分析を提案します。これは汎用AIではありません；
        データ構造を深く理解した目的構築型インテリジェンスです。
*/

/* 3. Copilotでの複雑なクエリ構築
    ***************************************************************
    シンプルなビジネス質問から複数のテーブル結合を含む複雑なSQLを生成するために
    Copilotを使用してみましょう。

    同じCopilotパネルで、以下のビジネス質問を貼り付けて実行をクリックし、結果を確認してください：

    プロンプト2：否定的なレビューを残している高価値顧客を見せてください。私たちに多く支出しているが、
    フィードバックに基づいて不満を持っているようにみえる顧客を理解したいです
    ***************************************************************/

/*
    主要なインサイト：
        Copilotがシンプルなビジネス質問を、複雑な分析ロジックと実行可能な結果を持つ
        本格的な顧客インテリジェンスに変換する方法に注目してください—SQLの専門知識を
        必要とせずに。これはCopilotのコア価値を示しています：戦略的質問を平易な英語で
        投げかけ、通常はデータエンジニアリングスキルを要求する企業級分析を即座に受け取ることができます。
*/

/*************************************************************************************************** 
    Snowflake Copilotは、複雑なビジネス質問を洗練されたSQLクエリに簡単に変換することで
    ビジネスインテリジェンスを根本的に変革します。Tasty Bytesで実演されたように、技術者と
    非技術者の両方のユーザーが、深いSQL専門知識なしにデータから実行可能なインサイトを導出することを
    可能にします。Snowflake Cortex内で微調整されたこのLLM搭載アシスタントは、スキーマを認識した
    目的構築型インテリジェンスを提供し、堅牢なデータガバナンスを確保し、すべての企業データを
    Snowflake内で安全に保持します。Copilotは単なる汎用AIではありません；運営インサイトと
    ビジネスインテリジェンスを橋渡しする戦略的ツールであり、組織が顧客の発言内容だけでなく、
    それがロイヤリティと購買行動にどのような影響を与えるかを理解できるようにします
****************************************************************************************************/